<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Frequently Asked Questions &mdash; locuaz 0.6.3 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Mutation Generators" href="mutationgenerators.html" />
    <link rel="prev" title="Job submission" href="jobsubmission.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            locuaz
          </a>
              <div class="version">
                0.6.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="platformflow.html">Platform flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="blocks.html">Blocks</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialsimple.html">Tutorial: running a simple optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialtleap.html">Tutorial: using Tleap topologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorialligand.html">Tutorial: optimizing an antibody against a ligand</a></li>
<li class="toctree-l1"><a class="reference internal" href="jobsubmission.html">Job submission</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#q1">1_ I used tleap to build my initial system
but now my starting PDB has no chainID information and locuaz won’t take it.
What can I do about it?</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mutationgenerators.html">Mutation Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="scorers.html">Scorers</a></li>
<li class="toctree-l1"><a class="reference internal" href="mutators.html">Mutators</a></li>
<li class="toctree-l1"><a class="reference internal" href="statistics.html">Stats</a></li>
<li class="toctree-l1"><a class="reference internal" href="pruners.html">Pruners</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous</a></li>
<li class="toctree-l1"><a class="reference internal" href="configurationfile.html">YAML configuration file</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="developing.html">Developing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">locuaz</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Frequently Asked Questions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/faq.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="frequently-asked-questions">
<h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this heading"></a></h1>
<section id="q1">
<h2>1_ I used tleap to build my initial system
but now my starting PDB has no chainID information and locuaz won’t take it.
What can I do about it?<a class="headerlink" href="#q1" title="Permalink to this heading"></a></h2>
<p><em>tleap</em> is a bit of an old piece of software and it seems that back then chainID
info wasn’t very important. If you write out a PDB file along with your <em>prmtop</em>
and <em>rst7</em> files when building your topology, you’ll see that the PDB has no
chainID info and neither does the topology.</p>
<p>Fortunately, <em>parmed</em> —which will be included with your locuaz installation—,
added some new flags to the <code class="docutils literal notranslate"><span class="pre">.prmtop</span></code> format, including <code class="docutils literal notranslate"><span class="pre">RESIDUE_CHAINID</span></code>,
which will hold the information we want. In order to add it, along with some other
extra info, we will ask parmed to get it from our initial PDB, which should have
chainID info</p>
<p>This short parmed script will do it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parm</span> <span class="n">no_chainid_top</span><span class="o">.</span><span class="n">prmtop</span>
<span class="n">addPDB</span> <span class="n">start</span><span class="o">.</span><span class="n">pdb</span>
<span class="n">outparm</span> <span class="n">top</span><span class="o">.</span><span class="n">prmtop</span>
<span class="n">go</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">no_chainid_top.prmtop</span></code> is the topology we got out from tleap, with water, ions
and all that. <code class="docutils literal notranslate"><span class="pre">start.pdb</span></code> is the PDB tleap started out from, without water, box
or anything, but with the chainID information.</p>
<p>We then run this script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parmed</span> <span class="o">-</span><span class="n">i</span> <span class="n">add_chainID</span><span class="o">.</span><span class="n">parmed</span>
</pre></div>
</div>
<p>You can now check <code class="docutils literal notranslate"><span class="pre">top.prmtop</span></code> for parmed additions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">FLAG</span> <span class="n">RESIDUE_CHAINID</span>
<span class="o">%</span><span class="n">COMMENT</span> <span class="n">Residue</span> <span class="n">chain</span> <span class="n">ID</span> <span class="p">(</span><span class="n">chainId</span><span class="p">)</span> <span class="n">read</span> <span class="kn">from</span> <span class="nn">PDB</span> <span class="n">file</span><span class="p">;</span> <span class="n">DIMENSION</span><span class="p">(</span><span class="n">NRES</span><span class="p">)</span>
<span class="o">%</span><span class="n">FORMAT</span><span class="p">(</span><span class="mi">20</span><span class="n">a4</span><span class="p">)</span>
<span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">A</span>   <span class="n">B</span>   <span class="n">B</span>   <span class="n">B</span>   <span class="n">B</span>   <span class="n">B</span>   <span class="n">B</span>
</pre></div>
</div>
<p>The final step is to get a PDB out of this topology and the <em>rst7</em> tleap gave us.
We can, again, write a parmed script for this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parm</span> <span class="n">top</span><span class="o">.</span><span class="n">prmtop</span>
<span class="n">trajin</span> <span class="n">rst7_from_tleap</span><span class="o">.</span><span class="n">rst7</span>
<span class="n">trajout</span> <span class="n">pdb_with_chainID</span><span class="o">.</span><span class="n">pdb</span>
</pre></div>
</div>
<p>Or, we can use another program that comes with <em>ambertools</em>, which was made for
this specific purpose:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ambpdb</span> <span class="o">-</span><span class="n">p</span> <span class="n">top</span><span class="o">.</span><span class="n">prmtop</span> <span class="o">-</span><span class="n">c</span> <span class="n">rst7_from_tleap</span><span class="o">.</span><span class="n">rst7</span> <span class="o">&gt;</span> <span class="n">pdb_with_chainID</span><span class="o">.</span><span class="n">pdb</span>
</pre></div>
</div>
<p>Now we can use <code class="docutils literal notranslate"><span class="pre">pdb_with_chainID.pdb</span></code> to start out our optimization, probably
after giving it a better name.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="jobsubmission.html" class="btn btn-neutral float-left" title="Job submission" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mutationgenerators.html" class="btn btn-neutral float-right" title="Mutation Generators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Patricio Barletta.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>